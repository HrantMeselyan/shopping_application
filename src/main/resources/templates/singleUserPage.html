<html lang="zxx" xmlns:th="http://www.thymeleaf.org">
<th:block th:include="/fragment/header::header"></th:block>
<div class="py-6">
    <div class="container">
        <div class="row"><!-- Profile Menu -->
            <div class="col-lg-4 pb-4 pb-lg-0 col-xxl-3 pe-xxl-5">
                <div class="bg-body border border-bottom-0 shadow-lg">
                    <div class="d-flex p-3 align-items-center">
                        <div class="avatar avatar-lg rounded-circle" th:if="${user.profilePic != null}">
                            <img th:src="@{/getImage(profilePic=${user.profilePic})}">
                        </div>
                        <div class="col ps-3"><h6 class="m-0" th:text="${user.name}"></h6><small><a
                                href="#" th:text="${user.email}">your@email.com</a></small></div>
                    </div>
                    <div class="bg-gray-200 p-3 border-bottom border-top"><h6 class="m-0">Dashboard</h6></div>
                    <ul class="list-unstyled mb-0 theme-link">
                        <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center p-3"
                                                          href="/user/order"><i
                                class="bi bi-bag me-2"></i> Order
                            <div class="ms-auto badge-pill badge bg-secondary">5</div>
                        </a></li>
                        <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center p-3"
                                                          href="/wishList"><i
                                class="fi-heart me-2"></i>Wishlist
                            <div class="ms-auto badge-pill badge bg-secondary">5</div>
                        </a></li>
                    </ul>
                    <div class="bg-gray-200 p-3 border-bottom"><h6 class="m-0">Account settings</h6></div>
                    <ul class="list-unstyled mb-0 theme-link">
                        <li class="border-bottom mb-0"><a
                                class="nav-link-style d-flex align-items-center active p-3"
                                href="/user"><i class="fi-user me-2"></i>Profile info</a></li>
                        <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center p-3"
                                                          href="/user/address"><i
                                class="bi bi-map-fill me-2"></i>Addresses</a></li>
                        <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center p-3"
                                                          href="/user/payment"><i
                                class="bi bi-credit-card me-2"></i>Payment</a></li>
                        <li class="border-bottom mb-0"><a class="nav-link-style d-flex align-items-center p-3"
                                                          href="/logout"><i
                                class="bi bi-box-arrow-left me-2"></i>Logout</a></li>
                    </ul>
                </div>
            </div><!-- End Profile Menu --><!-- Content -->
            <div class="col-lg-8 col-xxl-9">
                <div class="card mb-5">
                    <div class="card-header py-3"><h5 class="m-0">Profile Update</h5></div>
                    <div class="card-body">
                        <form th:object="${userUpdateDto}" action="/user/updateUserData" method="post"
                              enctype="multipart/form-data">
                            <div class="row">
                                <div class="col-sm-6 mb-3"><label class="form-label">Change Profile
                                    Photo</label> <input class="form-control" type="file" name="profile_pic">
                                </div>
                                <div class="col-sm-6 mb-3">
                                    <label class="form-label">Email address<span class="text-danger">*</span></label>
                                    <input type="email" class="form-control" placeholder="E-mail" name="email"
                                           th:field="*{email}">
                                    <span th:if="${email_}">
                                    <span th:style="'color: red'" th:text="${email_}"></span>
                                </span>
                                </div>
                                <div class="col-sm-6 mb-3">
                                    <label class="form-label">Name<span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" placeholder="Name" name="name"
                                           th:field="*{name}">
                                    <span th:if="${name_}">
                                    <span th:style="'color: red'" th:text="${name_}"></span>
                                    </span>
                                </div>
                                <div class="col-sm-6 mb-3">
                                    <label class="form-label">Surname<span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" placeholder="Surname" name="surname"
                                           th:field="*{surname}">
                                    <span th:if="${surname_}">
                                    <span th:style="'color: red'" th:text="${surname_}"></span>
                                    </span>
                                </div>
                                <div class="col-sm-6 mb-3">
                                    <label class="form-label">Mobile Number<span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" placeholder="Mobile" name="phoneNumber">
                                </div>
                                <div class="col-12 pt-2">
                                    <button class="btn btn-primary">Save changes</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header py-3"><h5 class="m-0">Change your password</h5></div>
                    <div class="card-body p-4">
                        <form action="/user/updatePassword" method="post" th:object="${updatePasswordDto}">
                            <div class="row">
                                <div class="col-sm-12 mb-3">
                                    <div class="form-group"><label for="password_old" class="form-label">Old
                                        password</label> <input type="password" id="password_old" name="oldPassword"
                                                                class="form-control"></div>
                                </div>
                                <div class="col-sm-6 mb-3">
                                    <div class="form-group"><label for="password_1" class="form-label">New
                                        password</label> <input type="password" id="password_1" name="password1"
                                                                class="form-control" th:field="*{password1}">
                                        <span th:if="${password1_}">
                                    <span th:style="'color: red'" th:text="${password1_}"></span>
                                </span>
                                    </div>
                                </div>
                                <div class="col-sm-6 mb-3">
                                    <div class="form-group"><label for="password_2" class="form-label">Retype
                                        new password</label><input type="password" id="password_2" name="password2"
                                                                   class="form-control" th:field="*{password2}">
                                        <span th:if="${password2_}">
                                    <span th:style="'color: red'" th:text="${password2_}"></span>
                                </span>
                                    </div>
                                </div>
                                <div class="col-12 pt-2">
                                    <button class="btn btn-primary">Change password</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div><!-- End Content --></div>
    </div>
</div><!--Table --></main>
<block th:include="fragment/footer::footer"></block>
</body>
</html>